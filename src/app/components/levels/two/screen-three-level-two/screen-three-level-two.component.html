<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Fase 2</title>
</head>
<body>
  <div class="container">
    <div><a routerLink="/fase-2-2"><i class="bi bi-chevron-left"></i></a></div>
    <div class="content">
      <h3><strong>FASE 2</strong></h3>
      <p class="w-75">Pressione os cart√µes para mostrar/ocultar seus pontos.</p>
      <div class="card-group">
        <div class="card-box">
          <div class="cards card-sixteen">
            <div class="card-flip" (click)="toggleFlip(16)" [@flipState]="flip16">
              <div class="front">
                <div class="point-box-l">
                  <div class="point"></div>
                  <div class="point"></div>
                  <div class="point"></div>
                  <div class="point"></div>
                </div>
                <div class="point-box-l">
                  <div class="point"></div>
                  <div class="point"></div>
                  <div class="point"></div>
                  <div class="point"></div>
                </div>
                <div class="point-box-l">
                  <div class="point"></div>
                  <div class="point"></div>
                  <div class="point"></div>
                  <div class="point"></div>
                </div>
                <div class="point-box-l">
                  <div class="point"></div>
                  <div class="point"></div>
                  <div class="point"></div>
                  <div class="point"></div>
                </div>
              </div>
              <div class="back">
                <div class="card-back"><img src="assets/cover/cp-card.png" alt="Flipped card"></div>
              </div>
            </div>
          </div>
          <span class="byn-number">{{byn16}}</span>
        </div>
        <div class="card-box">
          <div class="cards card-eight">
            <div class="card-flip" (click)="toggleFlip(8)" [@flipState]="flip8">
              <div class="front">
                <div class="point-box">
                  <div class="point"></div>
                  <div class="point"></div>
                </div>
                <div class="point-box">
                  <div class="point"></div>
                  <div class="point"></div>
                </div>
                <div class="point-box">
                  <div class="point"></div>
                  <div class="point"></div>
                </div>
                <div class="point-box">
                  <div class="point"></div>
                  <div class="point"></div>
                </div>
              </div>
              <div class="back">
                <div class="card-back"><img src="assets/cover/cp-card.png" alt="Flipped card"></div>
              </div>
            </div>
          </div>
          <span class="byn-number">{{byn8}}</span>
        </div>
        <div class="card-box">
          <div class="cards card-four">
            <div class="card-flip" (click)="toggleFlip(4)" [@flipState]="flip4">
              <div class="front">
                <div class="point-box">
                  <div class="point"></div>
                  <div class="point"></div>
                </div>
                <div class="point-box">
                  <div class="point"></div>
                  <div class="point"></div>
                </div>
              </div>
              <div class="back">
                <div class="card-back"><img src="assets/cover/cp-card.png" alt="Flipped card"></div>
              </div>
            </div>
          </div>
          <span class="byn-number">{{byn4}}</span>
        </div>
        <div class="card-box">
          <div class="cards card-two">
            <div class="card-flip" (click)="toggleFlip(2)" [@flipState]="flip2">
              <div class="front">
                <div class="point"></div>
                <div class="point"></div>
              </div>
              <div class="back">
                <div class="card-back"><img src="assets/cover/cp-card.png" alt="Flipped card"></div>
              </div>
            </div>
          </div>
          <span class="byn-number">{{byn2}}</span>
        </div>
        <div class="card-box">
          <div class="cards card-one">
            <div class="card-flip" (click)="toggleFlip(1)" [@flipState]="flip1">
              <div class="front">
                <div class="point"></div>
              </div>
              <div class="back">
                <div class="card-back"><img src="assets/cover/cp-card.png" alt="Flipped card"></div>
              </div>
            </div>
          </div>
          <span class="byn-number">{{byn1}}</span>
        </div>
      </div>
      <p class="w-75" [innerHTML]="question"></p>
          <div class="answer-table row justify-content-center w-100" *ngIf="inputType == false">
              
              <button type="button" 
              class="btn btn-primary col-md-5 col-sm-3 btn-block" 
              [ngClass]="{
                'correct': userResponses.includes(answers[0]) && answers[0] === expectedResponse,
                'incorrect': userResponses.includes(answers[0]) && answers[0] !== expectedResponse,
                'selected': userResponses.includes(answers[0]),
                'disabled': challengeState[numberActivity].allButtonsDisabled && !userResponses.includes(answers[0])
              }"
              [disabled]="userResponses.includes(answers[0]) || challengeState[numberActivity].allButtonsDisabled" 
              (click)="processAnswer(answers[0], 1)">
        {{answers[0]}}
      </button>
      <div class="w-100"></div>
      <button type="button" 
              class="btn btn-primary col-md-5 col-sm-3 btn-block" 
              [ngClass]="{
                'correct': userResponses.includes(answers[1]) && answers[1] === expectedResponse,
                'incorrect': userResponses.includes(answers[1]) && answers[1] !== expectedResponse,
                'selected': userResponses.includes(answers[1]),
                'disabled': challengeState[numberActivity].allButtonsDisabled && !userResponses.includes(answers[1])
              }"
              [disabled]="userResponses.includes(answers[1]) || challengeState[numberActivity].allButtonsDisabled" 
              (click)="processAnswer(answers[1], 2)">
        {{answers[1]}}
      </button>
      <div class="w-100"></div>
      <button type="button" 
              class="btn btn-primary col-md-5 col-sm-3 btn-block" 
              [ngClass]="{
                'correct': userResponses.includes(answers[2]) && answers[2] === expectedResponse,
                'incorrect': userResponses.includes(answers[2]) && answers[2] !== expectedResponse,
                'selected': userResponses.includes(answers[2]),
                'disabled': challengeState[numberActivity].allButtonsDisabled && !userResponses.includes(answers[2])
              }"
              [disabled]="userResponses.includes(answers[2]) || challengeState[numberActivity].allButtonsDisabled" 
              (click)="processAnswer(answers[2], 3)">
        {{answers[2]}}
      </button>
      <div class="w-100"></div>
      <button type="button" 
              class="btn btn-primary col-md-5 col-sm-3 btn-block" 
              [ngClass]="{
                'correct': userResponses.includes(answers[3]) && answers[3] === expectedResponse,
                'incorrect': userResponses.includes(answers[3]) && answers[3] !== expectedResponse,
                'selected': userResponses.includes(answers[3]),
                'disabled': challengeState[numberActivity].allButtonsDisabled && !userResponses.includes(answers[3])
              }"
              [disabled]="userResponses.includes(answers[3]) || challengeState[numberActivity].allButtonsDisabled" 
              (click)="processAnswer(answers[3], 4)">
        {{answers[3]}}
      </button>
    </div>

    
    <div class="row justify-content-center w-100 mt-3" *ngIf="inputType == true" [formGroup]="answer">
      <input type="text" class="answer-input col-md-5 col-sm-3 mb-4 d-block" id="answer" #answerValue formControlName="text" maxlength="10" placeholder="Digite aqui">
      <div class="w-100"></div>
      <button type="button" class="btn btn-primary col-md-5 col-sm-3 btn-block" [ngClass]="[btnClass5]" (click)="processAnswer(answerValue.value, 5)">Enviar</button>
    </div>              
          
    </div>
  </div>
  <app-toast aria-live="polite" aria-atomic="true" ></app-toast>
</body>
</html>